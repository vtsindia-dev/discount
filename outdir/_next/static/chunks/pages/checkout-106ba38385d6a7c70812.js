_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"1LK5":function(e,t){e.exports=function(e,t){var c=e.length;for(e.sort(t);c--;)e[c]=e[c].value;return e}},"6A1X":function(e,t,c){"use strict";c.r(t),c.d(t,"__N_SSG",(function(){return ae})),c.d(t,"default",(function(){return oe}));var r=c("nKUr"),n=c("Rg44"),a=c("B7F5"),o=c("gl0m"),s=c("O4se"),i=c("Ff2n"),l=c("KQm4"),d=c("rePB"),u=c("q1tI"),m=c("NIcq"),b=c("ma3e"),j=c("rCLJ"),p=c("X13+"),x=c("WFMo"),f=c("aEze"),h=c("TSYQ"),O=c.n(h),v=c("J0E7"),g=c("marz"),y=c("rROe"),N=c("wg/H"),_=c("6ImU"),w=c("94jp"),k=c("WScO"),C=c("qtta"),D=c("EPvW"),P=c("XCFl"),I=function(e){var t=e.warranty,c=e.handleExtendedWarrantyChange,n=e.index,a=e.matchedCheckoutDetail,o=!(!a.extended_warranty||!a.extended_warranty.length)&&Boolean(a.extended_warranty.find((function(e){return e.extended_id===t.id}))),s=Object(u.useState)(o),i=s[0],l=s[1],d=Object(P.a)().width,m=Object(g.b)({amount:t.price,currencyCode:"INR",locale:"en"}),b=Object(g.b)({amount:t.sale_price,currencyCode:"INR",locale:"en"}),j=t.price!==t.sale_price||"0"!==t.discount,p=function(){return Object(r.jsxs)("div",{className:"flex flex-col ms-auto items-end text-heading text-sm px-2 flex-shrink-0",children:[Object(r.jsxs)("div",{className:"flex",children:[j&&Object(r.jsx)("span",{className:"text-green-600 pr-3 font-bold",children:b}),Object(r.jsx)("span",{className:O()("",{"line-through text-gray-600":j}),children:m})]}),"0"!==t.discount&&Object(r.jsx)("span",{className:"text-green-600 font-bold",children:"".concat(t.discount,"%")})]})};return Object(r.jsxs)("div",{className:"bg-gray-100 mb-5 py-4 lg:px-3",children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsxs)("div",{className:"flex border my-auto w-16 h-16 flex-shrink-0 relative",children:[Object(r.jsx)("img",{src:"/assets/images/checkout/warranty.png",width:"64",height:"64",className:"object-cover"}),Object(r.jsx)("span",{className:"absolute top-0 right-0 bottom-0 left-0 flex justify-center items-center mb-4 font-bold",children:t.years})]}),Object(r.jsxs)("div",{className:"ps-5",children:[Object(r.jsx)("h6",{className:"text-base font-regular text-heading",children:Object(r.jsx)("div",{children:"Extended ".concat(t.years," years warranty")})}),Object(r.jsx)("div",{className:"text-sm",children:"Buy together offer"}),Object(r.jsx)("a",{href:t.link,target:"_blank",className:"text-xs text-primary flex items-center mt-3",children:"Know more"})]}),d>600&&p(),Object(r.jsx)(D.a,{checked:i,onChange:function(){l(!i);var e={extended_id:t.id,extended_offer:t.discount,extended_price:t.price,extended_sale_price:t.sale_price,extended_years:t.years};c(!i,e,n)},className:"form-checkbox w-5 h-5 border border-gray-300 rounded cursor-pointer transition duration-500 ease-in-out focus:ring-offset-0 focus:outline-none focus:ring-0 focus-visible:outline-none checkbox w-5 h-5 cursor-pointer",labelClassName:"items-start mr-2 ml-auto md:ml-10"})]},t.id),d<=600&&p()]})},E=function(e){var t=e.addOnsProduct,c=e.handleAddonsChange,n=e.index,a=e.matchedCheckoutDetail,o=!(!a.add_ons||!a.add_ons.length)&&Boolean(a.add_ons.find((function(e){return e.combo_id===t.id}))),s=Object(u.useState)(o),i=s[0],l=s[1],d=Object(P.a)().width,m=Object(g.b)({amount:t.combo_price,currencyCode:"INR",locale:"en"}),b=Object(g.b)({amount:t.sale_price,currencyCode:"INR",locale:"en"}),j=t.combo_price!==t.sale_price||"0"!==t.discount,p=function(){return Object(r.jsxs)("div",{className:"flex flex-col ms-auto items-end text-heading text-sm px-2 flex-shrink-0",children:[Object(r.jsxs)("div",{className:"flex",children:[j&&Object(r.jsx)("span",{className:"text-green-600 pr-3 font-bold",children:b}),Object(r.jsx)("span",{className:O()("",{"line-through text-gray-600":j}),children:m})]}),"0"!==t.discount&&Object(r.jsx)("span",{className:"text-green-600 font-bold",children:"".concat(t.discount,"%")})]})};return Object(r.jsxs)("div",{className:"py-4 lg:px-3 bg-gray-100 mb-5",children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("div",{className:"flex pl-2 flex-wrap grid-cols-2 gap-2",children:t.products.map((function(e,c){var n=e.name,a=e.gallery,o=e.sale_price,s=Object(g.b)({amount:o,currencyCode:"INR",locale:"en"}),i=a[0].thumbnail,l=Object(r.jsx)(x.b,{size:30,className:"mx-10"});return c===t.products.length-1&&(l=Object(r.jsx)(r.Fragment,{})),Object(r.jsxs)("div",{className:"flex w-56 items-start flex-col sm:w-80 sm:items-center sm:flex-row",children:[Object(r.jsxs)("div",{className:"flex items-center",children:[Object(r.jsx)("div",{className:"flex border my-auto w-16 h-16 flex-shrink-0 relative",children:Object(r.jsx)("img",{src:i||"/assets/images/checkout/warranty.png",width:"64",height:"64",className:"object-cover"})}),Object(r.jsxs)("div",{className:"ps-5",children:[Object(r.jsx)("h6",{className:"text-base font-regular text-heading",children:Object(r.jsx)("div",{className:"truncate w-32",children:n})}),Object(r.jsx)("span",{className:"text-green-600 pr-3 font-bold",children:s})]})]}),l]})}))}),d>600&&p(),Object(r.jsx)(D.a,{checked:i,onChange:function(){l(!i);var e={combo_id:t.id,combo_offer:t.discount,combo_price:t.combo_price,combo_sale_price:t.sale_price};c(!i,e,n)},className:"form-checkbox w-5 h-5 border border-gray-300 rounded cursor-pointer transition duration-500 ease-in-out focus:ring-offset-0 focus:outline-none focus:ring-0 focus-visible:outline-none checkbox w-5 h-5 cursor-pointer",labelClassName:"items-start mr-2 ml-auto md:ml-10"})]},t.id),d<=600&&p()]})},S=c("8dvi");function T(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}var A=function(e){var t,c=e.item,n=e.index,a=e.handleExtendedWarrantyChange,o=e.handleAddonsChange,s=e.checkoutDetails.product.find((function(e){return e.productdataId===c.unique_id})),i=Object(g.a)({amount:c.mrpitemTotal,currencyCode:"INR"}).price,l=Object(g.a)({amount:c.itemTotal,currencyCode:"INR"}).price,u=Object(P.a)().width,b=Object(N.a)(),j=b.mutate,p=b.isLoading,x=Object(_.b)(),f=x.accountDetails,h=x.buyNowProductId,D=function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?T(Object(c),!0).forEach((function(t){Object(d.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):T(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({userId:f.user_id,userToken:Object(w.a)()||"",checkoutType:h?"0":"1"},h&&{productdataId:h}),A=Object(k.a)(D),R=A.refetch,q=A.isLoading,F=Object(S.a)().refetch,W=(null===c||void 0===c?void 0:c.quantity)||0;W=parseInt(W,10);var z=(null===c||void 0===c?void 0:c.add_ons)||[],M=(null===c||void 0===c?void 0:c.extended_warranty)||[];function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){j({userId:null===f||void 0===f?void 0:f.user_id,productdataId:null!==c&&void 0!==c&&c.unique_id?c.unique_id:"",userToken:Object(w.a)()||"",quantity:e,onSuccess:function(){R(),F()}})};if(t)r(0);else{var n=e?W+1:W-1;r(n)}}var L=function(){return Object(r.jsxs)("div",{className:"flex flex-col ms-auto items-end text-heading text-sm ps-2 flex-shrink-0",children:[Object(r.jsxs)("div",{className:"flex",children:[l&&Object(r.jsx)("span",{className:"text-green-600 pr-3 font-bold",children:l}),Object(r.jsx)("span",{className:O()("",{"line-through text-gray-600":l}),children:i})]}),c.discount&&Object(r.jsx)("span",{className:"text-green-600 font-bold",children:"".concat(c.discount,"%")})]})},B=function(){return Object(r.jsx)(y.a,{quantity:W,onIncrement:function(){return V(!0)},onDecrement:function(){return V(!1)},variant:"dark",disableDecrement:1===W})};return Object(r.jsxs)("div",{className:"border-b border-gray-300",children:[Object(r.jsxs)("div",{className:"flex py-4 flex-col lg:px-3",children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("div",{className:"flex border my-auto border-gray-300 w-16 h-16 flex-shrink-0",children:Object(r.jsx)("img",{src:null!==(t=c.image)&&void 0!==t?t:"/assets/placeholder/order-product.svg",width:"64",height:"64",className:"object-cover"})}),Object(r.jsxs)("div",{className:"ps-5 my-auto",children:[Object(r.jsx)("h6",{className:"text-base font-regular text-heading",children:Object(v.a)(c.name,c.attributes)}),u>600&&Object(r.jsxs)("div",{className:"flex items-center mt-3",children:["Quantity :",Object(r.jsx)("div",{className:"ms-3",children:B()})]})]}),u>600&&L(),Object(r.jsx)(m.a,{size:"25",className:"ml-auto md:ml-10  cursor-pointer",onClick:function(){return V(!1,!0)}})]}),u<=600&&Object(r.jsxs)("div",{className:"flex items-center justify-center mt-2",children:[B(),L()]}),(p||q)&&Object(r.jsx)("div",{className:"bg-gray-200 bg-opacity-50 absolute w-full h-full top-0 right-0 bottom-0 left-0",children:Object(r.jsx)(C.a,{color:"#FF3D00",size:"60",className:"animate-spin flex m-auto absolute top-0 right-0 bottom-0 left-0"})})]}),M.length?M.map((function(e){return Object(r.jsx)(I,{matchedCheckoutDetail:s,warranty:e,handleExtendedWarrantyChange:a,index:n})})):null,z.length?z.map((function(e){return Object(r.jsx)(E,{matchedCheckoutDetail:s,addOnsProduct:e,handleAddonsChange:o,index:n})})):null]})},R=function(e){var t,c=e.item,n=Object(g.a)({amount:c.mrpitemTotal,currencyCode:"INR"}).price,a=Object(g.a)({amount:c.itemTotal,currencyCode:"INR"}).price;return Object(r.jsxs)("div",{className:"flex py-4 items-center lg:px-3 border-b border-gray-300",children:[Object(r.jsx)("div",{className:"flex border border-gray-300 w-16 h-16 flex-shrink-0",children:Object(r.jsx)("img",{src:null!==(t=c.image)&&void 0!==t?t:"/assets/placeholder/order-product.svg",width:"64",height:"64",className:"object-cover"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h6",{className:"text-sm ps-3 font-regular text-heading",children:Object(v.a)(c.name,c.attributes)}),Object(r.jsx)("div",{className:"ps-3 text-xs pt-1",children:"Quantity: ".concat(c.quantity)})]}),Object(r.jsxs)("div",{className:"flex flex-col text-right ms-auto text-heading text-sm ps-2 flex-shrink-0",children:[a&&Object(r.jsx)("span",{className:"text-green-600 font-bold text-base",children:a}),Object(r.jsx)("span",{className:O()("text-base",{"line-through !text-xs text-gray-600":a}),children:n})]})]})},q=c("UlCB"),F=c("ICJj"),W=c("LvDl"),z=c("o0o1"),M=c.n(z),V=c("HaE+"),L=c("qoMI"),B=c("W5iY"),K=c("SR//"),U=c("FGyW");function H(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function J(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?H(Object(c),!0).forEach((function(t){Object(d.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):H(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function X(){return(X=Object(V.a)(M.a.mark((function e(t){var c,r,n,a,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.promoCode,a=t.onSuccess,e.next=3,L.a.post(B.a.PROMOCODE,{promoCode:n});case 3:return o=e.sent,e.abrupt("return",{data:null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.responseJson,statusCode:null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.statusCode,onSuccess:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(){return Object(K.a)((function(e){return function(e){return X.apply(this,arguments)}(e)}),{onSuccess:function(e){var t={autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,closeButton:Object(r.jsx)(r.Fragment,{})};200===e.statusCode?(e.onSuccess(e.data),Object(U.b)("Promo code applied successfully",J({type:"success",position:"bottom-center"},t))):(e.onSuccess(""),Object(U.b)("Invalid promo code",J({type:"error",position:"bottom-center"},t)))},onError:function(e){console.log(e,"Checkout error response")}})},G=function(e){var t=e.item,c=e.handlePromocodeUpdate,n=t.type,a=void 0===n?"":n,o=t.name,s=t.price,i=Object(u.useState)(""),l=i[0],d=i[1],b=Object(u.useState)(!1),j=b[0],p=b[1],x=Object(u.useState)("Enter here"),f=x[0],h=x[1],v=Object(u.useState)(""),g=v[0],y=v[1],N=Y(),_=N.mutate,w=N.isLoading,k="promocode"===a;return Object(r.jsxs)("div",{className:O()("flex items-center px:2 py-4 lg:px-3 lg:py-5 border-b border-gray-300 text-sm w-full font-semibold text-heading last:border-b-0 last:text-base last:pb-0",{"lg:!py-3":k&&!j}),children:[o,k&&Object(r.jsxs)("div",{className:"flex items-center",children:[!j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(F.a,{labelKey:"",type:"text",variant:"solid",name:o,className:"ml-5 promocode",value:l,inputClassName:"!border-2 ".concat(g),placeholder:f,onChange:function(e){return d(null===e||void 0===e?void 0:e.target.value)}}),Object(r.jsx)("div",{className:O()("text-blue-600 ml-5 cursor-pointer",{"opacity-50 pointer-events-none":Object(W.isEmpty)(l)||w}),onClick:function(){return _({promoCode:l,onSuccess:function(e){return function(e){e?(h("Enter here"),p(!0)):(d("Invalid promo code!"),y("!text-red-500 !border-red-500"),setTimeout((function(){h("Try again"),d(""),y("")}),1e3),p(!1)),c(e)}(e)}})},children:"Apply"})]}),j&&Object(r.jsxs)("div",{className:"flex items-center px-3",children:[Object(r.jsx)("div",{className:"text-xs text-green-600 mr-1",children:"Promo code applied!"}),Object(r.jsx)(m.a,{className:"cursor-pointer",onClick:function(){h("Enter here"),d(""),c(""),p(!1)}})]})]}),Object(r.jsx)("span",{className:"ms-auto flex-shrink-0",children:s})]})},Q=c("xm5f"),Z=function(e){var t=e.items,c=e.total,n=e.subTotal,a=e.isEmpty,o=e.saving,s=e.deliveryMethod,i=e.promocodeData,l=e.handlePromocodeChange,d=e.handlePaymentMethod,u=e.checkoutDetails,m=i.promocodePrice,b="free"===s?0:199,j=Object(g.a)({amount:b,currencyCode:"INR"}).price,p=Object(g.a)({amount:n,currencyCode:"INR"}).price,x=Object(g.a)({amount:c+b-m,currencyCode:"INR"}).price,f=Object(g.a)({amount:o+m,currencyCode:"INR"}).price,h=(null===t||void 0===t?void 0:t.length)||0,O=e.isAddressSelected,v=void 0!==O&&O,y=Object(Q.b)("common").t,N=function(e){if(e){var t="amount"===e.type?e.value:"percentage"===e.type?n*e.value/100:"";l({promocode:e.promoCode,promocodePrice:parseInt(t,10),promocodeValue:e.value,type:e.type})}else l({promocode:e.promoCode,promocodePrice:0,promocodeValue:0,type:""})},_=Object(g.b)({amount:m,currencyCode:"INR",locale:"en"}),w=[{id:1,name:"".concat(v?"Price":"Subtotal"," (").concat(h," ").concat(h>1?"items":"item",")"),price:p},{id:2,name:"Having promo code?",price:0===m?Object(r.jsx)("p",{children:"--"}):Object(r.jsx)("p",{className:"text-green-600",children:_}),type:"promocode"},{id:3,name:y("text-shipping"),price:0===b?Object(r.jsx)("p",{className:"text-green-600",children:y("text-free")}):j},{id:4,name:y("text-savings"),price:Object(r.jsx)("p",{className:"text-green-600",children:f})},{id:5,name:y("text-total"),price:x}];return Object(r.jsxs)("div",{className:"pt-12 md:pt-0 2xl:ps-4",children:[Object(r.jsx)("h2",{className:"text-lg md:text-xl xl:text-2xl font-bold text-heading mb-6 xl:mb-6",children:v?"Price Details":"Your Order"}),!v&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"flex p-4 rounded-md mt-6 md:mt-7 xl:mt-9 bg-gray-150 text-sm font-semibold text-heading",children:[Object(r.jsx)("span",{children:y("text-product")}),Object(r.jsx)("span",{className:"ms-auto flex-shrink-0",children:y("text-sub-total")})]}),a?Object(r.jsx)("p",{className:"text-red-500 lg:px-3 py-4",children:y("text-empty-cart")}):t.map((function(e){return Object(r.jsx)(R,{item:e},e.id)}))]}),w.map((function(e){return Object(r.jsx)(G,{item:e,handlePromocodeUpdate:N},e.id)})),v&&Object(r.jsx)(q.a,{handlePaymentMethod:d,checkoutDetails:u})]})},$=c("VKCR"),ee=c("ODje");function te(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function ce(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?te(Object(c),!0).forEach((function(t){Object(d.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):te(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var re=[{key:"free",title:"Assured Delivery in 24 Hrs",label:"Free Delivery"},{key:"premium",title:"Premium Delivery in 4 Hrs",label:"\u20b9199 will be applied at the doorstep"}],ne=function(){var e=Object(u.useState)(re[0].key),t=e[0],c=e[1],n=Object(u.useState)(0),a=n[0],o=n[1],s=Object(u.useState)(""),d=s[0],h=s[1],v=Object(u.useState)(!1),g=v[0],y=v[1],N=Object(u.useState)({promocodePrice:0,promocode:"",promocodeValue:0,type:""}),D=N[0],P=N[1],I=Object(_.b)(),E=I.setModalView,S=I.openModal,T=I.accountDetails,R=I.setModalData,q=I.addedAddressId,F=I.setAddedAddress,z=I.buyNowProductId,M=Object(u.useState)({shipping_address_id:"",delivery_charge:0,delivery_type:"free",promocode:"",payment_method:1,subTotal_price:"",total_price:"",discount:0,product:[],checkoutType:z?"0":"1"}),V=M[0],L=M[1],B=ce({userId:T.user_id,userToken:Object(w.a)()||"",checkoutType:z?"0":"1"},z&&{productdataId:z}),K=Object($.a)({userId:T.user_id,userToken:Object(w.a)()||""}),U=K.data,H=K.refetch,J=K.isLoading,X=Object(k.a)(B),Y=X.data,G=X.isLoading,Q=X.refetch,te=!Boolean(null===Y||void 0===Y?void 0:Y.totalUniqueItems),ne=Object(u.useState)((null===Y||void 0===Y?void 0:Y.overallSalePrice)||0),ae=ne[0],oe=ne[1],se=Object(u.useState)((null===Y||void 0===Y?void 0:Y.total)||0),ie=se[0],le=se[1],de=null===Y||void 0===Y?void 0:Y.item,ue=null===Y||void 0===Y?void 0:Y.saving,me=null!==U&&void 0!==U&&U.cityList?null===U||void 0===U?void 0:U.cityList:[],be=null!==U&&void 0!==U&&U.userAddress?null===U||void 0===U?void 0:U.userAddress:[],je=null!==U&&void 0!==U&&U.recentlyUsed?null===U||void 0===U?void 0:U.recentlyUsed:[],pe=je.length?je.map((function(e){return e.address_id})):[],xe=be;if(pe.length&&be.length){var fe=[],he=[];be.forEach((function(e){pe.includes(e.id)?fe=[].concat(Object(l.a)(fe),[e]):he=[].concat(Object(l.a)(he),[e])})),xe=[].concat(Object(l.a)(fe),Object(l.a)(he))}var Oe=xe.length?xe.slice(0,3):[],ve=g?xe:Oe;Object(u.useEffect)((function(){Q()}),[z]),Object(u.useEffect)((function(){(null===Y||void 0===Y?void 0:Y.overallSalePrice)!==ae&&oe(null===Y||void 0===Y?void 0:Y.overallSalePrice)}),[null===Y||void 0===Y?void 0:Y.overallSalePrice]),Object(u.useEffect)((function(){(null===Y||void 0===Y?void 0:Y.total)!==ie&&le(null===Y||void 0===Y?void 0:Y.total)}),[null===Y||void 0===Y?void 0:Y.total]),Object(u.useEffect)((function(){if(q||U&&-1===a){var e=xe.findIndex((function(e){return e.id===q}));o(e),h(q),H()}}),[q,U]),Object(u.useEffect)((function(){var e=Object(W.cloneDeep)(V);e=ce(ce({},e),{},{subTotal_price:ie,total_price:ae+e.delivery_charge-e.discount}),L(ce({},e))}),[ae]),Object(u.useEffect)((function(){if(D.promocode){var e="amount"===D.type?D.promocodeValue:"percentage"===D.type?ie*D.promocodeValue/100:"",t=Object(W.cloneDeep)(V),c=parseInt(e,10);t=ce(ce({},t),{},{discount:c,subTotal_price:ie,total_price:ae+t.delivery_charge-c}),L(t),P(ce(ce({},D),{},{promocodePrice:c}))}}),[ie]),Object(u.useEffect)((function(){var e=Object(W.cloneDeep)(V),t=Object(W.cloneDeep)(e.product),c=(null===Y||void 0===Y?void 0:Y.item)||[],r=[];c.forEach((function(e){var c=e.discount,r=e.quantity,n=e.unique_id,a=e.sale_price,o=e.itemTotal,s={product_discount:c,quantity:r,productdataId:n,product_price:a,product_total_price:o},i=t.findIndex((function(e){return e.productdataId===n}));i>=0?t[i]=ce(ce({},t[i]),s):t.push(ce(ce({},s),{},{extended_warranty:[],add_ons:[]}))})),t.forEach((function(e,t){c.findIndex((function(t){return t.unique_id===e.productdataId}))<0&&r.push(t)})),r.length&&r.forEach((function(e){t.splice(e,1)})),e=ce(ce({},e),{},{subTotal_price:ie,total_price:ae+e.delivery_charge-e.discount,checkoutType:z?"0":"1",product:Object(l.a)(t)}),L(ce({},e))}),[Y,z]);var ge=function(e){if(e){var t=e.name,c=Object(i.a)(e,["name"]),r=t.split(" ")[0],n=t.split(" ")[1];R({data:ce({firstName:r,lastName:n},c)})}else R({data:{}});return E("ADD_EDIT_ADDRESS_VIEW"),S()};if(te&&!G)return Object(r.jsxs)("div",{className:"flex m-auto flex-col",children:[Object(r.jsx)("div",{className:"text-red-500 text-xl lg:px-3 py-4",children:"Your cart is empty!"}),Object(r.jsx)("div",{className:"relative flex flex-col sm:flex-row mt-5 w-full",children:Object(r.jsx)(ee.a,{onClick:function(){return window.location.replace(window.location.origin)},className:"h-11 md:h-12 w-full max-w-xs flex m-auto",children:"Continue shopping"})})]});var ye=function(e,t,c){var r=Object(W.cloneDeep)(V),n=Object(W.cloneDeep)(r.product),a=Object(W.cloneDeep)(n[c].extended_warranty);if(e)oe(ae+parseInt(t.extended_sale_price,10)),le(ie+parseInt(t.extended_sale_price,10)),a.push(ce({},t));else{oe(ae-parseInt(t.extended_sale_price,10)),le(ie-parseInt(t.extended_sale_price,10));var o=a.findIndex((function(e){return e.extended_id===t.extended_id}));a.splice(o,1)}n[c]=ce(ce({},n[c]),{},{extended_warranty:Object(l.a)(a)}),r=ce(ce({},r),{},{product:Object(l.a)(n)}),L(ce({},r))},Ne=function(e,t,c){var r=Object(W.cloneDeep)(V),n=Object(W.cloneDeep)(r.product),a=Object(W.cloneDeep)(n[c].add_ons);if(e)oe(ae+parseInt(t.combo_sale_price,10)),le(ie+parseInt(t.combo_sale_price,10)),a.push(ce({},t));else{oe(ae-parseInt(t.combo_sale_price,10)),le(ie-parseInt(t.combo_sale_price,10));var o=a.findIndex((function(e){return e.combo_id===t.combo_id}));a.splice(o,1)}n[c]=ce(ce({},n[c]),{},{add_ons:Object(l.a)(a)}),r=ce(ce({},r),{},{product:Object(l.a)(n)}),L(ce({},r))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"md:w-full lg:w-3/5 flex  h-full flex-col -mt-1.5",children:[Object(r.jsx)("div",{className:"flex flex-col xl:flex-row gap-5",children:re.map((function(e,n){var a=e.title,o=e.label,s=e.key;return Object(r.jsxs)("div",{onClick:function(){return function(e){var t=Object(W.cloneDeep)(V),r="free"===e?0:199;t=ce(ce({},t),{},{delivery_type:e,delivery_charge:r,total_price:ae+r-t.discount}),L(ce({},t)),c(e)}(s)},className:O()("flex items-center pt-3 pb-3 pr-5 pl-5 cursor-pointer rounded-md border-2 border-gray-500",{"border-primary":s===t}),children:[Object(r.jsx)(f.a,{labelKey:"",value:s,checked:s===t,onChange:function(){}}),"free"===s?Object(r.jsx)(m.d,{size:40,className:"text-primary mr-3 ml-1"}):Object(r.jsx)(b.d,{size:40,className:"text-primary mr-3 ml-1"}),Object(r.jsxs)("div",{className:"flex flex-col",children:[Object(r.jsx)("span",{className:"font-bold",children:a}),Object(r.jsx)("span",{className:"text-green-600 text-xs",children:o})]})]},n)}))}),Object(r.jsxs)("div",{className:"mt-7",children:[Object(r.jsxs)("div",{className:"flex items-center justify-between",children:[Object(r.jsx)("h2",{className:"text-lg md:text-xl xl:text-2xl font-bold text-heading",children:"Shipping Address"}),d?Object(r.jsx)("div",{className:"text-primary text-base cursor-pointer",onClick:function(){F(""),h("")},children:"Change Address"}):Object(r.jsx)("div",{className:"text-primary text-base cursor-pointer",onClick:function(){return ge("")},children:"Add New Address"})]}),!d&&Object(r.jsx)("div",{className:"mt-3 mb-5 font-bold",children:"Select shipping address to proceed"}),ve&&ve.length?ve.map((function(e,t){var c=e.name,n=e.address1,s=e.address2,i=e.city,l=e.state,u=e.zipCode,m=e.phone,b=e.id,f=e.optionalPhone,v="1"===l?"tamil nadu":"",g=[n,s,me.find((function(e){return e.id===i})).name,v,u].filter((function(e){return e&&e})).join(", "),y=[m,f].filter((function(e){return e&&e})).join(", ");if(d&&d!==b)return null;var N=a===t&&d,_=a===t&&!d;return Object(r.jsxs)("div",{className:"mt-4 mb-4 p-5 rounded-md cursor-pointer ".concat(a===t?"bg-green":"bg-gray-100"),onMouseEnter:function(){return o(t)},onClick:function(){return o(t)},children:[Object(r.jsxs)("div",{className:"flex justify-between",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"flex items-center capitalize",children:[Object(r.jsx)("div",{className:"font-bold text-xl",children:c}),Object(r.jsx)("div",{className:"ml-5",children:y})]}),Object(r.jsx)("div",{className:"mt-1 capitalize",children:g})]}),_&&Object(r.jsx)(j.a,{size:25,className:"text-primary",onClick:function(){return ge(e)}}),N&&Object(r.jsx)(x.c,{size:25,className:"text-green-600"})]}),Object(r.jsx)("div",{className:O()("max-h-0 overflow-hidden useAddressCard",{open:_}),onClick:function(){return function(e){var t=Object(W.cloneDeep)(V);t=ce(ce({},t),{},{shipping_address_id:e}),L(ce({},t)),h(e)}(b)},children:Object(r.jsxs)("div",{className:"flex items-center justify-end border-2 border-primary rounded-md p-2 max-w-max ml-auto mt-4",children:[Object(r.jsx)("span",{className:"text-primary font-bold",children:"Use this address"}),Object(r.jsx)(p.a,{size:25,className:"text-primary"})]})})]},t)})):Object(r.jsxs)("div",{className:"text-base cursor-pointer flex flex-col items-center mt-10",children:[Object(r.jsx)("span",{className:"text-lg",children:"Add address to proceed further"}),Object(r.jsx)(ee.a,{className:"w-6/12 min-w-max mt-5 h-10 ",onClick:function(){return ge("")},children:"Add address"})]}),!d&&Object(r.jsx)("div",{className:"cursor-pointer flex justify-center text-primary",onClick:function(){return y(!g)},children:g?"View less address":"View more address"})]}),d&&Object(r.jsxs)("div",{className:"mt-5",children:[Object(r.jsx)("h2",{className:"text-lg md:text-xl xl:text-2xl font-bold text-heading",children:"Summary"}),de&&de.map((function(e,t){return Object(r.jsx)(A,{checkoutDetails:V,item:e,index:t,handleExtendedWarrantyChange:ye,handleAddonsChange:Ne},e.id)}))]})]}),Object(r.jsx)("div",{className:O()("md:w-full lg:w-2/5 md:ms-0 lg:ms-7 xl:ms-10 flex flex-col h-full -mt-1.5 top-32",{sticky:Boolean(d)}),children:Object(r.jsx)(Z,{isAddressSelected:Boolean(d),items:de,isEmpty:te,total:ae,subTotal:ie,saving:ue,deliveryMethod:t,handlePromocodeChange:function(e){var t=e.promocode,c=e.promocodePrice,r=e.promocodeValue,n=e.type,a=Object(W.cloneDeep)(V);a=ce(ce({},a),{},{promocode:t,discount:c,total_price:ae+a.delivery_charge-c}),L(a),P({promocode:t,promocodePrice:c,promocodeValue:r,type:n})},promocodeData:D,handlePaymentMethod:function(e){var t=Object(W.cloneDeep)(V);t=ce(ce({},t),{},{payment_method:e}),L(ce({},t))},checkoutDetails:V})}),(J||G)&&Object(r.jsx)("div",{className:"bg-gray-200 bg-opacity-50 absolute w-full h-full top-0 right-0 bottom-0 left-0",children:Object(r.jsx)(C.a,{color:"#FF3D00",size:"60",className:"animate-spin flex m-auto absolute top-0 right-0 bottom-0 left-0"})})]})},ae=!0;function oe(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.a,{pageHeader:"text-page-checkout"}),Object(r.jsxs)(n.a,{children:[Object(r.jsx)("div",{className:"py-10 xl:py-10 px-0 2xl:max-w-screen-2xl xl:max-w-screen-xl mx-auto flex flex-col lg:flex-row w-full relative",children:Object(r.jsx)(ne,{})}),Object(r.jsx)(o.a,{})]})]})}oe.Layout=a.a},IWTy:function(e,t,c){var r=c("yue5");e.exports=function(e,t,c){for(var n=-1,a=e.criteria,o=t.criteria,s=a.length,i=c.length;++n<s;){var l=r(a[n],o[n]);if(l)return n>=i?l:l*("desc"==c[n]?-1:1)}return e.index-t.index}},J0E7:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var r=c("E+oP"),n=c.n(r),a=c("k8Y/"),o=c.n(a);function s(e,t){if(!n()(t)){var c=o()(t);return"".concat(e," - ").concat(c.join(", "))}return e}},VKCR:function(e,t,c){"use strict";c.d(t,"a",(function(){return m}));var r=c("o0o1"),n=c.n(r),a=c("ODXe"),o=c("HaE+"),s=c("qoMI"),i=c("W5iY"),l=c("Uvq/"),d=c("9P6V"),u=function(){var e=Object(o.a)(n.a.mark((function e(t){var c,r,o,l,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.queryKey,r=Object(a.a)(c,2),r[0],o=r[1],e.next=4,s.a.get("".concat(i.a.GET_ADDRESS).concat(Object(d.a)(o)));case 4:return l=e.sent,u=l.data,e.abrupt("return",null===u||void 0===u?void 0:u.responseJson);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Object(l.a)([i.a.GET_ADDRESS,e],u)}},alwl:function(e,t,c){var r=c("eUgh"),n=c("ZWtO"),a=c("ut/Y"),o=c("l9OW"),s=c("1LK5"),i=c("sEf8"),l=c("IWTy"),d=c("zZ0H"),u=c("Z0cm");e.exports=function(e,t,c){t=t.length?r(t,(function(e){return u(e)?function(t){return n(t,1===e.length?e[0]:e)}:e})):[d];var m=-1;t=r(t,i(a));var b=o(e,(function(e,c,n){return{criteria:r(t,(function(t){return t(e)})),index:++m,value:e}}));return s(b,(function(e,t){return l(e,t,c)}))}},iEj2:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return c("6A1X")}])},"k8Y/":function(e,t,c){var r=c("alwl"),n=c("Z0cm");e.exports=function(e,t,c,a){return null==e?[]:(n(t)||(t=null==t?[]:[t]),n(c=a?void 0:c)||(c=null==c?[]:[c]),r(e,t,c))}},l9OW:function(e,t,c){var r=c("SKAX"),n=c("MMmD");e.exports=function(e,t){var c=-1,a=n(e)?Array(e.length):[];return r(e,(function(e,r,n){a[++c]=t(e,r,n)})),a}},yue5:function(e,t,c){var r=c("/9aa");e.exports=function(e,t){if(e!==t){var c=void 0!==e,n=null===e,a=e===e,o=r(e),s=void 0!==t,i=null===t,l=t===t,d=r(t);if(!i&&!d&&!o&&e>t||o&&s&&l&&!i&&!d||n&&s&&l||!c&&l||!a)return 1;if(!n&&!o&&!d&&e<t||d&&c&&a&&!n&&!o||i&&c&&a||!s&&a||!l)return-1}return 0}}},[["iEj2",1,2,3,10,4,9,5,8,15,14,19,26,0,6,7,11,12,13,16,18,21,24]]]);