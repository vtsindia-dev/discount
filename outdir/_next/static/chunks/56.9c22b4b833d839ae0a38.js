(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[56],{"9P6V":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return i}));var a=r("rePB"),s=r("LvDl");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var n=function(e){var t={width:450,height:140},r={width:885,height:430},a={width:1800,height:430};return e?e.map((function(o,n){var c=Object(s.cloneDeep)(o),i=n===e.length-1,d=i?a:r;return c.image={mobile:l({url:c.image},t),desktop:l({url:c.image},d)},c.type=i?"large":"small",c})):[]},c=function(e){var t="";return Object.keys(e).forEach((function(r){var a=e[r];if(void 0!==a&&null!==a&&""!==a){var s=""===t?"?":"&";t="".concat(t).concat(s).concat(r,"=").concat(e[r])}})),t};function i(e,t){return e.includes("category")?"source=category":e.includes("categories")?"source=categories":e.includes("search")?"source=search&searchTerm=".concat(null===t||void 0===t?void 0:t.slug):""}},VKCR:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var a=r("o0o1"),s=r.n(a),o=r("ODXe"),l=r("HaE+"),n=r("qoMI"),c=r("W5iY"),i=r("Uvq/"),d=r("9P6V"),u=function(){var e=Object(l.a)(s.a.mark((function e(t){var r,a,l,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.queryKey,a=Object(o.a)(r,2),a[0],l=a[1],e.next=4,n.a.get("".concat(c.a.GET_ADDRESS).concat(Object(d.a)(l)));case 4:return i=e.sent,u=i.data,e.abrupt("return",null===u||void 0===u?void 0:u.responseJson);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Object(i.a)([c.a.GET_ADDRESS,e],u)}},Vfbd:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),s=r("rePB"),o=r("Ff2n"),l=r("ICJj"),n=r("NKCw"),c=r("o0o1"),i=r.n(c),d=r("HaE+"),u=r("W5iY"),m=r("qoMI"),f=r("SR//");function b(){return(b=Object(d.a)(i.a.mark((function e(t){var r,a,s,l,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.onSuccess,l=t.onFailure,n=Object(o.a)(t,["onSuccess","onFailure"]),e.next=3,m.a.post(u.a.ADD_ADDRESS,n);case 3:return c=e.sent,e.abrupt("return",{data:null===c||void 0===c||null===(r=c.data)||void 0===r?void 0:r.responseJson,statusCode:null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.statusCode,onSuccess:s,onFailure:l});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){return Object(f.a)((function(e){return function(e){return b.apply(this,arguments)}(e)}),{onSuccess:function(e){200===e.statusCode?e.onSuccess(e.data):e.onFailure()},onError:function(e){console.log(e,"Checkout error response")}})},j=r("ODje"),y=r("xm5f"),v=r("6ImU"),O=r("94jp"),g=r("FGyW"),h=r("VKCR"),w=r("TSYQ"),x=r.n(w),N=r("q1tI");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K="py-2 px-4 md:px-5 w-full appearance-none transition duration-150 ease-in-out border text-input text-xs lg:text-sm font-body rounded-md placeholder-body min-h-12 transition duration-200 ease-in-out",S="bg-gray-100 border-gray-300 focus:shadow focus:bg-white focus:border-primary",E="bg-white border-gray-300 focus:outline-none focus:border-heading h-11 md:h-12",k="border-gray-300 focus:border-primary",C="focus:shadow",V=r.n(N).a.forwardRef((function(e,t){var r,l=e.className,n=void 0===l?"block":l,c=e.labelKey,i=e.name,d=e.errorKey,u=(e.placeholderKey,e.variant),m=void 0===u?"normal":u,f=e.shadow,b=void 0!==f&&f,p=(e.type,e.inputClassName),j=e.disabled,v=void 0!==j&&j,O=e.options,g=e.defaultValue,h=Object(o.a)(e,["className","labelKey","name","errorKey","placeholderKey","variant","shadow","type","inputClassName","disabled","options","defaultValue"]),w=x()(K,(r={},Object(s.a)(r,S,"normal"===m),Object(s.a)(r,E,"solid"===m),Object(s.a)(r,k,"outline"===m),r),Object(s.a)({},C,b),p),N=Object(y.b)().t;return Object(a.jsxs)("div",{className:n,children:[c&&Object(a.jsx)("label",{htmlFor:i,className:"block text-gray-600 font-semibold text-sm leading-none mb-3 cursor-pointer",children:N(c)}),Object(a.jsxs)("select",D(D({id:i,name:i,ref:t,className:x()(w,v&&"opacity-50"),autoComplete:"off",spellCheck:"false","aria-invalid":d?"true":"false",disabled:v,defaultValue:g},h),{},{children:[Object(a.jsx)("option",{value:"",disabled:!0}),O.map((function(e){return Object(a.jsx)("option",{value:e.id,selected:Boolean(h.value===e.id)||Boolean(g===e.id),children:e.name})}))]})),d&&Object(a.jsx)("p",{className:"my-2 text-xs text-red-500",children:N(d)})]})})),q=r("LvDl");function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e,t,r,s,c,i,d,u=Object(y.b)().t,m=p(),f=m.mutate,b=m.isLoading,w=Object(v.b)(),x=w.closeModal,N=w.accountDetails,P=w.setAddedAddress,D=w.modalData.data,K=Object(h.a)({userId:N.user_id,userToken:Object(O.a)()||""}),S=K.data,E=K.refetch,k=D.firstName,C=void 0===k?"":k,F=D.lastName,A=void 0===F?"":F,I=D.phone,T=void 0===I?"":I,_=D.email,$=void 0===_?"":_,z=D.address1,B=void 0===z?"":z,J=D.address2,L=void 0===J?"":J,G=D.city,M=void 0===G?"":G,U=D.zipCode,W=void 0===U?"":U,Y=D.optionalPhone,H=void 0===Y?"":Y,Z=D.id,Q=void 0===Z?"":Z,X=Object(n.a)(),ee=X.register,te=X.handleSubmit,re=X.formState.errors;function ae(e,t){Object(g.b)(e,{type:t,position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,closeButton:Object(a.jsx)(a.Fragment,{})})}var se=(null===S||void 0===S?void 0:S.cityList)||[];return Object(a.jsxs)("div",{className:"bg-white px-5 py-7 w-full",children:[Object(a.jsx)("h2",{className:"text-lg md:text-xl xl:text-2xl font-bold text-heading mb-6 xl:mb-8",children:u("text-shipping-address")}),Object(a.jsx)("form",{onSubmit:te((function(e){var t=e.firstName,r=e.lastName,a=Object(o.a)(e,["firstName","lastName"]),s="".concat(t," ").concat(r);f(R(R(R({name:s,userId:N.user_id,userToken:Object(O.a)()||""},Q&&{addressId:Q}),a),{},{onSuccess:function(e){E(),P(e.addressId),ae("Address added successfully","success"),x()},onFailure:function(){ae("Failed to add address, please try again later","error")}}))})),className:"w-full mx-auto flex flex-col justify-center ",noValidate:!0,children:Object(a.jsxs)("div",{className:"flex flex-col space-y-4 lg:space-y-5",children:[Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row md:flex-row space-y-4 lg:space-y-0 md:space-y-0",children:[Object(a.jsx)(l.a,R(R({labelKey:"forms:label-first-name"},ee("firstName",{required:"forms:first-name-required"})),{},{errorKey:null===(e=re.firstName)||void 0===e?void 0:e.message,variant:"solid",className:"w-full lg:w-96 md:w-80 ",defaultValue:C})),Object(a.jsx)(l.a,R(R({labelKey:"forms:label-last-name"},ee("lastName",{required:"forms:last-name-required"})),{},{errorKey:null===(t=re.lastName)||void 0===t?void 0:t.message,variant:"solid",className:"w-full lg:w-96 md:w-80 lg:ms-3 md:ms-3 mt-2 sm:mt-0",defaultValue:A}))]}),Object(a.jsx)(l.a,R(R({labelKey:"forms:label-address1"},ee("address1",{required:"forms:address-required"})),{},{errorKey:null===(r=re.address1)||void 0===r?void 0:r.message,variant:"solid",defaultValue:B})),Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row md:flex-row space-y-4 lg:space-y-0 md:space-y-0",children:[Object(a.jsx)(l.a,R(R({labelKey:"forms:label-address2"},ee("address2")),{},{variant:"solid",className:"w-full lg:w-96 md:w-80",defaultValue:L})),Object(a.jsx)(l.a,R(R({type:"email",labelKey:"forms:label-email"},ee("email",{pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:u("forms:email-error")}})),{},{errorKey:null===(s=re.email)||void 0===s?void 0:s.message,variant:"solid",className:"w-full lg:w-96 md:w-80 lg:ms-3 md:ms-3 mt-2 sm:mt-0",defaultValue:$}))]}),Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row md:flex-row space-y-4 lg:space-y-0 md:space-y-0",children:[Object(a.jsx)(l.a,R(R({type:"tel",labelKey:"forms:label-phone"},ee("phone",{required:"forms:phone-required",pattern:{value:/^\d{10}$/,message:u("forms:phone-error")}})),{},{onKeyPress:function(e){(Object(q.isEmpty)(null===e||void 0===e?void 0:e.key.match(new RegExp("^[0-9]+$")))||e.currentTarget.value.length>=10)&&e.preventDefault()},errorKey:null===(c=re.phone)||void 0===c?void 0:c.message,variant:"solid",className:"w-full lg:w-96 md:w-80",defaultValue:T})),Object(a.jsx)(l.a,R(R({type:"tel",labelKey:"forms:label-phone-optional"},ee("optionalPhone",{pattern:{value:/^\d{10}$/,message:u("forms:phone-error")}})),{},{onKeyPress:function(e){(Object(q.isEmpty)(null===e||void 0===e?void 0:e.key.match(new RegExp("^[0-9]+$")))||e.currentTarget.value.length>=10)&&e.preventDefault()},variant:"solid",className:"w-full lg:w-96 md:w-80 lg:ms-3 md:ms-3 mt-2 sm:mt-0",defaultValue:H}))]}),Object(a.jsxs)("div",{className:"flex flex-col lg:flex-row md:flex-row space-y-4 lg:space-y-0 md:space-y-0",children:[Object(a.jsx)(V,R(R({labelKey:"forms:label-city-star"},ee("city",{required:"forms:city-required"})),{},{options:se,variant:"solid",className:"w-full lg:w-96 md:w-80 ",errorKey:null===(i=re.city)||void 0===i?void 0:i.message,defaultValue:M})),Object(a.jsx)(l.a,R(R({labelKey:"forms:label-postcode-star"},ee("zipCode",{required:"forms:postalcode-required",pattern:{value:/^\d{6}$/,message:u("forms:zipcode-error")}})),{},{onKeyPress:function(e){(Object(q.isEmpty)(null===e||void 0===e?void 0:e.key.match(new RegExp("^[0-9]+$")))||e.currentTarget.value.length>=6)&&e.preventDefault()},variant:"solid",className:"w-full lg:w-96 md:w-80 lg:ms-3 md:ms-3 mt-2 sm:mt-0",errorKey:null===(d=re.zipCode)||void 0===d?void 0:d.message,defaultValue:W}))]}),Object(a.jsxs)("div",{className:"flex w-full justify-end !mt-7",children:[Object(a.jsx)("div",{className:"w-32 h-10 flex items-center justify-center text-primary rounded-md border-2 border-primary cursor-pointer",onClick:x,children:"Cancel"}),Object(a.jsx)(j.a,{type:"submit",className:"w-32 ml-3 h-10",loading:b,disabled:b,children:"Save"})]})]})})]})}}}]);