(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[61],{z8B8:function(e,t,r){"use strict";r.r(t);var n=r("rePB"),o=r("nKUr"),s=r("q1tI"),c=r("ODje"),a=r("ICJj"),i=r("NKCw"),u=r("6ImU"),l=r("xm5f"),b=r("XCFl"),m=r("HzgH"),d=r("FGyW"),j=r("o0o1"),O=r.n(j),p=r("Ff2n"),f=r("HaE+"),x=r("W5iY"),g=r("qoMI"),h=r("p46w"),y=r.n(h),w=r("SR//");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(){return(N=Object(f.a)(O.a.mark((function e(t){var r,n,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.onSuccess,o=Object(p.a)(t,["onSuccess"]),e.next=3,g.a.post(x.a.FORGET_PASSWORD,o);case 3:return s=e.sent,e.abrupt("return",{data:S({},(null===s||void 0===s||null===(r=s.data)||void 0===r?void 0:r.responseJson)||""),onSuccess:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){return Object(w.a)((function(e){return function(e){return N.apply(this,arguments)}(e)}),{onSuccess:function(e){y.a.remove("auth_token"),e.onSuccess(e.data)},onError:function(e){console.log(e,"forget password error response")}})},E=r("mMnc"),k=r("9/iO");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={userName:""};t.default=function(){var e,t=Object(l.b)().t,r=Object(u.b)(),n=r.setModalView,j=r.openModal,O=r.closeModal,p=Object(b.a)().width,f=P(),x=f.mutate,g=f.isLoading,h=Object(s.useState)(!1),y=h[0],w=h[1],v=Object(s.useState)(!1),S=v[0],N=v[1],I=Object(s.useState)(""),_=I[0],M=I[1],B=Object(s.useState)(""),F=B[0],R=B[1],V=p<768?160:200,W=Object(i.a)({defaultValues:C}),q=W.register,G=W.handleSubmit,J=W.formState.errors;function K(e,t){Object(d.b)(e,{type:t,position:p>768?"bottom-center":"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!1,closeButton:Object(o.jsx)(o.Fragment,{})})}function T(e){null!==e&&void 0!==e&&e.userName?(R(e.userName),w(!0),K("OTP sent to given E-Mail / Phone Number","dark")):K(e.message,"error")}return Object(o.jsxs)("div",{className:"py-6 px-5 sm:p-8 bg-white mx-auto rounded-lg w-full sm:w-96 md:w-450px border border-gray-300",children:[Object(o.jsxs)("div",{className:"text-center mb-8 pt-2.5",children:[Object(o.jsx)("div",{onClick:O,className:"flex justify-center mb-4",children:Object(o.jsx)("img",{src:m.b.logo.url,alt:m.b.logo.alt,width:V})}),!S&&!y&&Object(o.jsx)("p",{className:"text-sm md:text-base text-body mt-3 sm:mt-4 mb-8 sm:mb-10",children:t("common:forgot-password-helper")})]}),!S&&!y&&Object(o.jsxs)("form",{onSubmit:G((function(e){return function(e){var t=e.userName;x({userName:t,onSuccess:T})}(e)})),className:"flex flex-col justify-center",noValidate:!0,children:[Object(o.jsx)(a.a,D(D({labelKey:"forms:label-email-phone",type:"text",variant:"solid",className:"mb-4"},q("userName",{required:"".concat(t("forms:email-phone-required"))})),{},{errorKey:null===(e=J.userName)||void 0===e?void 0:e.message})),Object(o.jsx)(c.a,{type:"submit",className:"h-11 md:h-12 w-full mt-2",loading:g,children:t("common:text-reset-password")})]}),Object(o.jsx)(E.a,{open:y,handleBack:function(){w(!1)},onSuccess:function(e){null!==e&&void 0!==e&&e.userId?(M(e.userId),w(!1),N(!0),K("OTP verified successfully","success")):K(e.message,"error")},userName:F,userId:"",forgotPassword:!0}),Object(o.jsx)(k.a,{open:S,onSuccess:function(){return n("REGISTER_SUCCESS_VIEW"),j()},userId:_,forgotPassword:!0}),Object(o.jsxs)("div",{className:"flex flex-col items-center justify-center relative text-sm text-heading mt-8 sm:mt-10 mb-6 sm:mb-7",children:[Object(o.jsx)("hr",{className:"w-full border-gray-300"}),Object(o.jsx)("span",{className:"absolute -top-2.5 px-2 bg-white",children:t("common:text-or")})]}),Object(o.jsxs)("div",{className:"text-sm sm:text-base text-body text-center",children:[t("common:text-back-to")," ",Object(o.jsx)("button",{type:"button",className:"text-sm sm:text-base text-heading underline font-bold hover:no-underline focus:outline-none",onClick:function(){return n("LOGIN_VIEW"),j()},children:t("common:text-login")})]})]})}}}]);